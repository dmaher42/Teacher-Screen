<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO and Browser Meta Tags -->
    <meta name="description" content="A customizable classroom management screen with widgets for teachers.">
    <meta name="author" content="Your Name">
    <meta name="theme-color" content="#3498db">
    
    <title>Custom Classroom Screen</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    
    <!-- Favicon (placeholder) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“š</text></svg>">
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js" defer></script>
</head>

<!-- Set a default theme class on the body -->
<body class="light-theme">

    <noscript>
        <div class="noscript-message">
            For full functionality of this site, it is necessary to enable JavaScript.
        </div>
    </noscript>

    <main id="app-container" class="app-container">
        <!-- =====================================================
             STUDENT VIEW
             ===================================================== -->
        <section id="student-view" class="view student-view" role="region" aria-label="Student View">
            <div id="widgets-container" class="widgets-grid">
                <!-- Widgets are dynamically added here by JavaScript -->
                <div class="widget-placeholder">
                    <p>Add your first widget from the Teacher Controls!</p>
                </div>
            </div>
        </section>

        <!-- =====================================================
             TEACHER CONTROLS PANEL
             ===================================================== -->
        <aside id="teacher-view" class="view teacher-view hidden" role="region" aria-label="Teacher Controls">
            <div class="controls-panel">
                <header class="controls-header">
                    <h3>Teacher Controls</h3>
                    <button id="close-teacher-view" class="widget-close" aria-label="Close Teacher Controls">&times;</button>
                </header>

                <!-- Widget Controls -->
                <fieldset class="control-section">
                    <legend>Add Widget</legend>
                    <div class="input-group">
                        <label for="widget-search">Search Widgets</label>
                        <input type="text" id="widget-search" placeholder="Search by name or category">
                    </div>

                    <div class="widget-accordion" id="widget-accordion">
                        <details class="widget-category" open>
                            <summary>Time Management</summary>
                            <div class="widget-buttons">
                                <button class="control-button widget-add-btn" data-widget="timer">Add Timer</button>
                            </div>
                        </details>
                        <details class="widget-category" open>
                            <summary>Engagement</summary>
                            <div class="widget-buttons">
                                <button class="control-button widget-add-btn" data-widget="noise-meter">Add Noise Meter</button>
                                <button class="control-button widget-add-btn" data-widget="name-picker">Add Name Picker</button>
                            </div>
                        </details>
                        <details class="widget-category" open>
                            <summary>Tools</summary>
                            <div class="widget-buttons">
                                <button class="control-button widget-add-btn" data-widget="qr-code">Add QR Code</button>
                                <button class="control-button widget-add-btn" data-widget="drawing-tool">Add Drawing Tool</button>
                            </div>
                        </details>
                    </div>
                </fieldset>

                <!-- Timer Controls -->
                <fieldset class="control-section">
                    <legend>Timer Control</legend>
                    <div class="input-group">
                        <label for="timer-minutes">Minutes:</label>
                        <input type="number" id="timer-minutes" placeholder="e.g., 5" min="1" max="60" value="5">
                    </div>
                    <div class="button-group">
                        <button id="start-timer" class="control-button">Start Timer</button>
                        <button id="stop-timer" class="control-button">Stop Timer</button>
                    </div>
                </fieldset>

                <!-- Theme Selection -->
                <fieldset class="control-section">
                    <legend>Theme</legend>
                    <div class="theme-selector" id="theme-selector">
                        <button class="theme-option selected" data-theme="light-theme">Light</button>
                        <button class="theme-option" data-theme="dark-theme">Dark</button>
                        <button class="theme-option" data-theme="ocean-theme">Ocean</button>
                        <button class="theme-option" data-theme="forest-theme">Forest</button>
                        <button class="theme-option" data-theme="sunset-theme">Sunset</button>
                        <button class="theme-option" data-theme="royal-theme">Royal</button>
                        <button class="theme-option" data-theme="monochrome-theme">Mono</button>
                        <button class="theme-option" data-theme="high-contrast-theme">HC</button>
                    </div>
                </fieldset>

                <!-- Background Customization -->
                <fieldset class="control-section">
                    <legend>Background</legend>
                    <div class="input-group">
                        <label for="background-type">Type:</label>
                        <select id="background-type">
                            <option value="solid">Solid Color</option>
                            <option value="gradient">Gradient</option>
                            <option value="image">Image</option>
                        </select>
                    </div>
                    <div id="background-options" class="background-options">
                        <!-- Background options (colors, gradients, images) will be dynamically added here -->
                    </div>
                </fieldset>
                
                <!-- Layout Management -->
                <fieldset class="control-section">
                    <legend>Layouts &amp; Presets</legend>
                    <div class="input-group">
                        <label for="preset-name">Preset Name</label>
                        <input type="text" id="preset-name" placeholder="e.g., Morning Routine">
                    </div>
                    <div class="button-group">
                        <button id="save-preset" class="control-button">Save / Overwrite</button>
                        <button id="reset-layout" class="control-button">Reset Layout</button>
                    </div>
                    <div id="preset-list" class="preset-list" aria-live="polite"></div>
                </fieldset>
            </div>
        </aside>

        <!-- =====================================================
             GLOBAL CONTROLS
             ===================================================== -->
        <button id="toggle-view" class="toggle-view-button" aria-label="Toggle Teacher Controls" aria-controls="teacher-view" aria-expanded="false">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                <path d="M2 17l10 5 10-5"></path>
                <path d="M2 12l10 5 10-5"></path>
            </svg>
        </button>
    </main>

    <!-- =====================================================
         JAVASCRIPT FILES
         ===================================================== -->
    <!-- Using 'defer' ensures scripts run after HTML is parsed, in order -->
    <script src="js/utils/layout-manager.js" defer></script>
    <script src="js/utils/background-manager.js" defer></script>
    <script src="js/widgets/timer.js" defer></script>
    <script src="js/widgets/noise-meter.js" defer></script>
    <script src="js/widgets/noise-meter-widget.js" defer></script>
    <script src="js/widgets/name-picker.js" defer></script>
    <script src="js/widgets/qr-code-widget.js" defer></script>
    <script src="js/widgets/drawing-tool.js" defer></script>
    <script src="js/main.js" defer></script>

</body>
</html>
